window.__require=function t(i,e,n){function o(a,h){if(!e[a]){if(!i[a]){var r=a.split("/");if(r=r[r.length-1],!i[r]){var c="function"==typeof __require&&__require;if(!h&&c)return c(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+a+"'")}a=r}var l=e[a]={exports:{}};i[a][0].call(l.exports,function(t){return o(i[a][1][t]||t)},l,l.exports,t,i,e,n)}return e[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<n.length;a++)o(n[a]);return o}({AdaptationImage:[function(t,i){"use strict";cc._RF.push(i,"5ae98rgQXZB9Zc/XG5nVHLW","AdaptationImage"),cc.Class({extends:cc.Component,onLoad:function(){var t=this.node.width,i=this.node.height,e=cc.view.getCanvasSize().width,n=cc.view.getCanvasSize().height;this.node.scale=Math.max(e/(t*Math.min(e/t,n/i)),n/(i*Math.min(e/t,n/i)))}}),cc._RF.pop()},{}],AdaptationNode:[function(t,i){"use strict";cc._RF.push(i,"77a37EpoRBKf7MM2MaOAB4F","AdaptationNode"),cc.Class({extends:cc.Component,onLoad:function(){var t=cc.view.getCanvasSize().width,i=cc.view.getCanvasSize().height,e=Math.min(t/this.node.width,i/this.node.height);this.node.width=t/e,this.node.height=i/e}}),cc._RF.pop()},{}],AudioManager:[function(t,i){"use strict";cc._RF.push(i,"49b82gxrZBJr6WP2ntalRHL","AudioManager"),window.Sound=i.exports={PlayMusic:function(t,i){void 0===i&&(i=!0),window.Tools.LoadRes(t,cc.AudioClip,function(t){cc.audioEngine.playMusic(t,i)}.bind(this))},PlayEffect:function(t){window.Tools.LoadRes(t,cc.AudioClip,function(t){cc.audioEngine.playEffect(t)}.bind(this))},SetMusicVolume:function(t){cc.audioEngine.setMusicVolume(t)},SetEffectVolum:function(t){cc.audioEngine.setEffectsVolume(t)},DestroyAllAudio:function(){cc.audioEngine.uncacheAll()}},cc._RF.pop()},{}],BuildConItem:[function(t,i){"use strict";cc._RF.push(i,"a9e79MKP/ZK+Yf9V55w5aoi","BuildConItem");var e=t("ItemBase");cc.Class({extends:e,properties:{BCI_Id:0,BCI_CloseBtn:null,BCI_Icon:null,BCI_Name:null,BCI_Toll:null,BCI_Buff:null,BCI_Level:null},OnCreate:function(t){this.BCI_Id=t,this.InitUI(),this.SyncUI(),this.AnimActive(),this.OnRegister()},OnOpen:function(t){this.BCI_Id=t,this.SyncUI(),this.AnimActive(),this.OnRegister()},OnClose:function(){this.UnRegister()},OnDestroy:function(){},InitUI:function(){this.BCI_CloseBtn=window.Tools.GetChildByName(this.node,"ConItemClose"),this.BCI_Icon=window.Tools.GetChildByName(this.node,"BuildIcon").getComponent(cc.Sprite),this.BCI_Name=window.Tools.GetChildByName(this.node,"BuildName").getComponent(cc.Label),this.BCI_Buff=window.Tools.GetChildByName(this.node,"BuffContent").getComponent(cc.Label),this.BCI_Toll=window.Tools.GetChildByName(this.node,"BuildToll/TollValue").getComponent(cc.Label),this.BCI_Level=window.Tools.GetChildByName(this.node,"BuildLevel/LevelValue").getComponent(cc.Label)},SyncUI:function(){var t=this,i=window.Datas.user_run_builddata[t.BCI_Id];t.BCI_Name.string=i.bdt_name,t.BCI_Toll.string=i.bdt_toll,t.BCI_Buff.string=i.bdt_buff,t.BCI_Level.string=1,window.Tools.LoadRes(i.bdt_image,cc.SpriteFrame,function(i){t.BCI_Icon.spriteFrame=i}),i=null},OnRegister:function(){this.BCI_CloseBtn.on("click",this.CloseBuildCon,this)},UnRegister:function(){this.BCI_CloseBtn.targetOff(this)},CloseBuildCon:function(){window.Tools.RecycleNode(this.node)}}),cc._RF.pop()},{ItemBase:"ItemBase"}],BuildWinItem:[function(t,i){"use strict";cc._RF.push(i,"18bba2DZk9EqLH8RZoqo8c1","BuildWinItem");var e=t("ItemBase");cc.Class({extends:e,properties:{bwi_Id:0,bwi_OpenBtn:null,bwi_Lock:null,bwi_LockValue:null,bwi_Icon:null,bwi_Name:null},OnCreate:function(t){this.bwi_Id=t,this.InitUI(),this.SyncUI(),this.OnRegister()},OnOpen:function(t){this.bwi_Id=t,this.SyncUI(),this.OnRegister()},OnClose:function(){this.UnRegister()},OnDestroy:function(){},InitUI:function(){this.bwi_OpenBtn=this.node,this.bwi_Lock=this.node.getChildByName("BuildLock"),this.bwi_LockValue=window.Tools.GetChildByName(this.node,"BuildLock/LockValue").getComponent(cc.Label),this.bwi_Name=this.node.getChildByName("BuildName").getComponent(cc.Label),this.bwi_Icon=this.node.getChildByName("BuildIcon").getComponent(cc.Sprite)},SyncUI:function(){var t=this,i=window.Datas.user_run_builddata[t.bwi_Id],e=window.Datas.user_save_builddata[t.bwi_Id];t.bwi_Name.string=i.bdt_name,t.bwi_Lock.active=!e.UBD_UnLock(window.Datas.user.cup,i.bcup),window.Tools.LoadRes(i.bdt_image,cc.SpriteFrame,function(i){t.bwi_Icon.spriteFrame=i}),t.AnimColor()},OnRegister:function(){this.bwi_OpenBtn.on("click",this.OpenBuildInfo,this)},UnRegister:function(){this.bwi_OpenBtn.targetOff(this)},OpenBuildInfo:function(){window.Tools.CreateItem(window.Names.item_building_info,this.bwi_Id,this.node.parent.parent.parent,function(){}.bind(this))}}),cc._RF.pop()},{ItemBase:"ItemBase"}],BuildingData:[function(t,i){"use strict";var e;function n(t,i){return(n=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}cc._RF.push(i,"7a1a0TB5g1Plr0IgHQnRInP","BuildingData");var o=function(t){var i,e;function o(){return t.apply(this,arguments)||this}return e=t,(i=o).prototype=Object.create(e.prototype),i.prototype.constructor=i,n(i,e),o.prototype.Key=function(){return this.id},o}(((e=t("../../resources/js/BuildingDataTableBase"))&&e.__esModule?e:{default:e}).default);i.exports=o,cc._RF.pop()},{"../../resources/js/BuildingDataTableBase":void 0}],BuildingWindow:[function(t,i){"use strict";cc._RF.push(i,"5a1ac1xnEVBIJpzXmhSUxgJ","BuildingWindow"),cc.Class({extends:t("ViewBase"),properties:{bw_CloseBtn:null,bw_ItemParent:null,bw_itemlist:null},OnCreate:function(){this.InitUI(),this.SyncUI(),this.OnRegister()},OnOpen:function(){this.SyncUI()},OnClose:function(){},OnDestroy:function(){this.UnRegister()},InitUI:function(){this.bw_itemlist=[],this.bw_CloseBtn=this.node.getChildByName("Full_BackButton"),this.bw_ItemParent=window.Tools.GetChildByName(this.node,"BuildView/BuildContent")},SyncUI:function(){for(var t=0;t<window.Datas.user_run_builddata.length;t++)window.Tools.CreateItem(window.Names.item_building,t,this.bw_ItemParent,function(t){this.bw_itemlist.push(t)}.bind(this))},OnRegister:function(){this.bw_CloseBtn.on("click",function(){this.CloseBuildWindow()}.bind(this),this)},UnRegister:function(){this.bw_CloseBtn.targetOff(this)},CloseBuildWindow:function(){for(var t=0;t<this.bw_itemlist.length;t++)window.Tools.RecycleNode(this.bw_itemlist[t]);this.bw_itemlist=[],this.BackHome()}}),cc._RF.pop()},{ViewBase:"ViewBase"}],CharConItem:[function(t,i){"use strict";cc._RF.push(i,"86ef7msRmBINpHCoYrU6v/j","CharConItem");var e=t("ItemBase");cc.Class({extends:e,properties:{CCI_Id:0,CCI_CloseBtn:null,CCI_UseBtn:null,CCI_LevelBtn:null,CCI_Icon:null,CCI_Image:null,CCI_Name:null,CCI_Level:null,CCI_Stuff:null,CCI_CostD:null,CCI_LevelAdd:null,CCI_Geted:null,CCI_Donit:null,CCI_UnUse:null,CCI_Using:null},OnCreate:function(t){this.CCI_Id=t,this.InitUI(),this.SyncUI(),this.AnimActive(),this.OnRegister()},OnOpen:function(t){this.CCI_Id=t,this.SyncUI(),this.AnimActive(),this.OnRegister()},OnClose:function(){this.UnRegister()},OnDestroy:function(){},InitUI:function(){this.CCI_CloseBtn=window.Tools.GetChildByName(this.node,"CharConClose"),this.CCI_UseBtn=window.Tools.GetChildByName(this.node,"CharInfoGroup/CharGeted/CharUse"),this.CCI_LevelBtn=window.Tools.GetChildByName(this.node,"CharInfoGroup/CharGeted/CharUp"),this.CCI_Icon=window.Tools.GetChildByName(this.node,"CharInfoGroup/CharTopMask/CharTopIcon").getComponent(cc.Sprite),this.CCI_Image=window.Tools.GetChildByName(this.node,"CharPicIcon").getComponent(cc.Sprite),this.CCI_Name=window.Tools.GetChildByName(this.node,"CharInfoGroup/CharName").getComponent(cc.Label),this.CCI_Level=window.Tools.GetChildByName(this.node,"CharInfoGroup/CharGeted/CharLevel/LevelValue").getComponent(cc.Label),this.CCI_Stuff=window.Tools.GetChildByName(this.node,"CharInfoGroup/CharGeted/CharUpStuffValue").getComponent(cc.Label),this.CCI_CostD=window.Tools.GetChildByName(this.node,"CharInfoGroup/CharGeted/CharUp/UpCostValue").getComponent(cc.Label),this.CCI_LevelAdd=window.Tools.GetChildByName(this.node,"CharInfoGroup/CharGeted/CharAdd/AddValue").getComponent(cc.Label),this.CCI_Geted=window.Tools.GetChildByName(this.node,"CharInfoGroup/CharGeted"),this.CCI_Donit=window.Tools.GetChildByName(this.node,"CharInfoGroup/CharUnHave"),this.CCI_UnUse=window.Tools.GetChildByName(this.node,"CharInfoGroup/CharGeted/CharUse/CharUnUse"),this.CCI_Using=window.Tools.GetChildByName(this.node,"CharInfoGroup/CharGeted/CharUse/CharUsing")},SyncUI:function(){var t=this,i=window.Datas.user_run_chardata[t.CCI_Id],e=window.Datas.user_save_chardata[t.CCI_Id];t.CCI_Name.string=i.cdt_name,t.CCI_Level.string=e.ucd_level,t.CCI_Stuff.string=e.ucd_stuff+"/"+e.UCD_GetNeedStuff(),t.CCI_CostD.string=e.UCD_GetNeedDiamond(),t.CCI_LevelAdd.string=e.UCD_GetLevelAdd(),t.CCI_Geted.active=e.ucd_ower,t.CCI_Donit.active=!e.ucd_ower,t.CCI_Using.active=e.ucd_use,t.CCI_UnUse.active=!e.ucd_use,window.Tools.LoadRes(i.cdt_icon,cc.SpriteFrame,function(i){t.CCI_Icon.spriteFrame=i}),window.Tools.LoadRes(i.cdt_image,cc.SpriteFrame,function(i){t.CCI_Image.spriteFrame=i}),i=null,e=null},OnRegister:function(){this.CCI_CloseBtn.on("click",this.CloseCharCon,this),this.CCI_UseBtn.on("click",this.UseCurrChar,this),this.CCI_LevelBtn.on("click",this.UpCurrChar,this)},UnRegister:function(){this.CCI_CloseBtn.targetOff(this),this.CCI_UseBtn.targetOff(this),this.CCI_LevelBtn.targetOff(this)},CloseCharCon:function(){window.Tools.RecycleNode(this.node)},UpCurrChar:function(){window.Datas.CheckCharUp(this.CCI_Id)?window.Tools.ShowPrompt("Succeed"):window.Tools.ShowPrompt("Insufficient materials")},UseCurrChar:function(){var t=window.Datas.user_save_chardata[this.CCI_Id];t.UCD_CanUse()&&(window.user.charid=this.CCI_Id,t.ucd_use=!0,this.CCI_Using.active=t.ucd_use,this.CCI_UnUse.active=!t.ucd_use,this.CloseCharCon())}}),cc._RF.pop()},{ItemBase:"ItemBase"}],CharWinItem:[function(t,i){"use strict";cc._RF.push(i,"2bcb2Kvn+lCxKdKmfbnRwe/","CharWinItem");var e=t("ItemBase");cc.Class({extends:e,properties:{CWI_Id:0,CWI_OpenBtn:null,CWI_Up:null,CWI_Lock:null,CWI_Icon:null,CWI_Name:null,CWI_Level:null,CWI_Geted:null,CWI_Donit:null},OnCreate:function(t){this.CWI_Id=t,this.InitUI(),this.SyncUI(),this.OnRegister()},OnOpen:function(t){this.CWI_Id=t,this.SyncUI(),this.OnRegister()},OnClose:function(){this.UnRegister()},OnDestroy:function(){},InitUI:function(){this.CWI_OpenBtn=this.node,this.CWI_Up=window.Tools.GetChildByName(this.node,"CharMask/CharUp"),this.CWI_Lock=this.node.getChildByName("CharLock"),this.CWI_Name=window.Tools.GetChildByName(this.node,"CharMask/CharName").getComponent(cc.Label),this.CWI_Icon=window.Tools.GetChildByName(this.node,"CharMask/CharIcon").getComponent(cc.Sprite),this.CWI_Level=window.Tools.GetChildByName(this.node,"CharMask/CharLevel/LevelGet/GetLevel").getComponent(cc.Label),this.CWI_Geted=window.Tools.GetChildByName(this.node,"CharMask/CharLevel/LevelGet"),this.CWI_Donit=window.Tools.GetChildByName(this.node,"CharMask/CharLevel/LevelDont")},SyncUI:function(){var t=this,i=window.Datas.user_run_chardata[t.CWI_Id],e=window.Datas.user_save_chardata[t.CWI_Id];t.CWI_Name.string=i.cdt_name,t.CWI_Level.string=e.ucd_level,t.CWI_Lock.active=!e.ucd_ower,t.CWI_Geted.active=e.ucd_ower,t.CWI_Donit.active=!e.ucd_ower,t.CWI_Up.active=window.Datas.CheckCharUp(t.CWI_Id),window.Tools.LoadRes(i.cdt_icon,cc.SpriteFrame,function(i){t.CWI_Icon.spriteFrame=i}),t.AnimColor()},OnRegister:function(){this.CWI_OpenBtn.on("click",this.OpenCharInfo,this)},UnRegister:function(){this.CWI_OpenBtn.targetOff(this)},OpenCharInfo:function(){window.Tools.CreateItem(window.Names.item_character_info,this.CWI_Id,this.node.parent.parent.parent,function(){}.bind(this))}}),cc._RF.pop()},{ItemBase:"ItemBase"}],CharacterData:[function(t,i){"use strict";var e;function n(t,i){return(n=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}cc._RF.push(i,"2a93bRtfE9DdJFukHegTmlo","CharacterData");var o=function(t){var i,e;function o(){return t.apply(this,arguments)||this}return e=t,(i=o).prototype=Object.create(e.prototype),i.prototype.constructor=i,n(i,e),o.prototype.Key=function(){return this.id},o}(((e=t("../../resources/js/CharacterDataTableBase"))&&e.__esModule?e:{default:e}).default);i.exports=o,cc._RF.pop()},{"../../resources/js/CharacterDataTableBase":void 0}],CharacterWindow:[function(t,i){"use strict";cc._RF.push(i,"deb840xsVhF/IW0lhWI1Qi8","CharacterWindow"),cc.Class({extends:t("ViewBase"),properties:{cw_CloseBtn:null,cw_ItemParent:null,cw_itemlist:null},OnCreate:function(){this.InitUI(),this.SyncUI(),this.OnRegister()},OnOpen:function(){this.SyncUI()},OnClose:function(){},OnDestroy:function(){this.UnRegister()},InitUI:function(){this.cw_itemlist=[],this.cw_CloseBtn=this.node.getChildByName("Full_BackButton"),this.cw_ItemParent=window.Tools.GetChildByName(this.node,"CharView/CharContent")},SyncUI:function(){for(var t=0;t<window.Datas.user_run_chardata.length;t++)window.Tools.CreateItem(window.Names.item_character,t,this.cw_ItemParent,function(t){this.cw_itemlist.push(t)}.bind(this))},OnRegister:function(){this.cw_CloseBtn.on("click",function(){this.CloseCharWindow()}.bind(this),this)},UnRegister:function(){this.bw_CloseBtn.targetOff(this)},CloseCharWindow:function(){for(var t=0;t<this.cw_itemlist.length;t++)window.Tools.RecycleNode(this.cw_itemlist[t]);this.cw_itemlist=[],this.BackHome()}}),cc._RF.pop()},{ViewBase:"ViewBase"}],ColorAssemble2D:[function(t,i){"use strict";cc._RF.push(i,"63ca7fpplhDDpPkpSr34yFc","ColorAssemble2D"),cc.Class({extends:cc.Component,properties:{colors:[cc.Color]},onLoad:function(){},onEnable:function(){cc.director.once(cc.Director.EVENT_AFTER_DRAW,this._updateColors,this)},onDisable:function(){cc.director.off(cc.Director.EVENT_AFTER_DRAW,this._updateColors,this),this.node._renderFlag|=cc.RenderFlow.FLAG_COLOR},_updateColors:function(){var t=this.getComponent(cc.RenderComponent);if(t){var i=t._assembler;if(i instanceof cc.Assembler2D){var e=i._renderData.uintVDatas[0];if(e)for(var n=this.node.color,o=i.floatsPerVert,s=0,a=i.colorOffset,h=e.length;a<h;a+=o)e[a]=(this.colors[s++]||n)._val}}}}),cc._RF.pop()},{}],CreateBuildItem:[function(t,i){"use strict";cc._RF.push(i,"626daKnMkJBsoKIJhCqImeJ","CreateBuildItem");var e=t("ItemBase");cc.Class({extends:e,properties:{cbi_Id:0,cbi_OpenBtn:null,cbi_Icon:null,cbi_Name:null},OnCreate:function(t){this.cbi_Id=t,this.InitUI(),this.SyncUI(),this.OnRegister()},OnOpen:function(t){this.cbi_Id=t,this.SyncUI(),this.OnRegister()},OnClose:function(){this.UnRegister()},OnDestroy:function(){},InitUI:function(){this.cbi_OpenBtn=this.node,this.cbi_Name=window.Tools.GetChildByName(this.node,"BuildBg/BuildName").getComponent(cc.Label),this.cbi_Icon=window.Tools.GetChildByName(this.node,"BuildBg/BuildIcon").getComponent(cc.Sprite)},SyncUI:function(){var t=this,i=window.Datas.user_run_builddata[t.cbi_Id];t.cbi_Name.string=i.bdt_name,window.Tools.LoadRes(i.bdt_image,cc.SpriteFrame,function(i){t.cbi_Icon.spriteFrame=i})},OnRegister:function(){this.cbi_OpenBtn.on("click",this.CreateFightBuild,this)},UnRegister:function(){this.cbi_OpenBtn.targetOff(this)},CreateFightBuild:function(){window.Views.CloseNameView(window.Names.win_fight_create),window.Tools.SendMessage(window.Names.eventName_fightCreateEndState,{_bool:!0,_id:this.cbi_Id})}}),cc._RF.pop()},{ItemBase:"ItemBase"}],CreateBuildWindow:[function(t,i){"use strict";cc._RF.push(i,"3b1e6jN2QhLmJ17PrBlWFKv","CreateBuildWindow"),cc.Class({extends:t("ViewBase"),properties:{cbw_ItemParent:null,cbw_itemlist:null},OnCreate:function(){this.InitUI(),this.SyncUI(),this.OnRegister()},OnOpen:function(){this.SyncUI()},OnClose:function(){for(var t=0;t<this.cbw_itemlist.length;t++)window.Tools.RecycleNode(this.cbw_itemlist[t]);this.cbw_itemlist=[]},OnDestroy:function(){this.UnRegister()},InitUI:function(){this.cbw_itemlist=[],this.cbw_ItemParent=window.Tools.GetChildByName(this.node,"CreatePanel/CreateContent")},SyncUI:function(){for(var t=0;t<window.Datas.user_run_builddata.length;t++)window.Datas.user_run_builddata[t].type==window.Fight.CurFloorType&&window.Datas.CheckBuildUnlock(t)&&window.Tools.CreateItem(window.Names.item_fight_create,window.Datas.user_run_builddata[t].id,this.cbw_ItemParent,function(t){this.cbw_itemlist.push(t)}.bind(this))},OnRegister:function(){},UnRegister:function(){}}),cc._RF.pop()},{ViewBase:"ViewBase"}],ExitFightWindow:[function(t,i){"use strict";cc._RF.push(i,"19be9/PM+xK7pRJomoDbg2x","ExitFightWindow"),cc.Class({extends:t("ViewBase"),properties:{_exitFightButton:cc.Node,_continueFightButton:cc.Node},InitUI:function(){this._exitFightButton=window.Tools.GetChildByName(this.node,"ShowPanel/BottomBg/ExitFightButton"),this._continueFightButton=window.Tools.GetChildByName(this.node,"ShowPanel/BottomBg/ContinueFightButton")},OnRegister:function(){this._exitFightButton.on(cc.Node.EventType.TOUCH_END,this.on_exitFightButtonClick,this),this._continueFightButton.on(cc.Node.EventType.TOUCH_END,this.on_continueFightButtonClick,this)},UnRegister:function(){this._exitFightButton.targetOff(this),this._continueFightButton.targetOff(this)},on_exitFightButtonClick:function(){window.Views.CloseNameView(window.Names.win_fight),window.Views.OpenView(window.Names.win_home),window.Views.CloseView(this.node)},on_continueFightButtonClick:function(){window.Views.CloseView(this.node)},OnCreate:function(){this.InitUI(),this.OnRegister()},OnOpen:function(){},OnClose:function(){},OnDestroy:function(){this.UnRegister()}}),cc._RF.pop()},{ViewBase:"ViewBase"}],FightBuildBuffItem:[function(t,i){"use strict";cc._RF.push(i,"a49afwH/mZF/a7+h5/2T9V1","FightBuildBuffItem");var e=t("ItemBase");cc.Class({extends:e,properties:{fbbi_data:null},OnCreate:function(t){this.fbbi_data=t,this.InitUI(),this.SyncUI(t),this.OnRegister()},OnOpen:function(t){this.fbbi_data=t,this.SyncUI(t),this.OnRegister()},OnClose:function(){this.UnRegister(),this.unscheduleAllCallbacks()},OnDestroy:function(){},InitUI:function(){},SyncUI:function(){this.node.scale=0,cc.tween(this.node).to(.2,{scale:1.1}).to(.5).start(),this.scheduleOnce(function(){window.Tools.RecycleNode(this.node)}.bind(this),.8)},OnRegister:function(){},UnRegister:function(){}}),cc._RF.pop()},{ItemBase:"ItemBase"}],FightBuildData:[function(t,i){"use strict";cc._RF.push(i,"fdc4907ivBFcJBI+evXbR9D","FightBuildData");var e=function(){function t(t,i){this.id=0,this.fbd_user=!1,this.fbd_level=1,this.fbd_addToll=0,this.fbd_baseToll=0,this.fbd_multipleToll=0,this.fbd_addStop=0,this.fbd_baseStop=3,this.fbd_buff_value=0,this.fbd_buff_type=0,this.FBD_Init(t,i)}var i=t.prototype;return i.FBD_Init=function(t,i){this.id=t,this.fbd_user=i,this.fbd_level=1,this.fbd_addToll=window.Datas.user_run_builddata[t].bdt_toll,this.fbd_baseToll=0,this.fbd_multipleToll=0,this.fbd_addStop=0,this.fbd_baseStop=3,this.fbd_buff_type=window.Datas.user_run_builddata[t].bdt_buff_type,this.fbd_buff_value=window.Datas.user_run_builddata[t].bdt_buff_value},i.FBD_LevelUp=function(){var t=!1;if(this.fbd_level<3&&(t=!0,this.fbd_level++),0==this.id||1==this.id||2==this.id)switch(this.fbd_buff_type){case window.Fight.BuffTypes.We_Toll_Value:case window.Fight.BuffTypes.Or_Toll_Value:this.FBD_AddTollValue(this.fbd_buff_value);break;case window.Fight.BuffTypes.We_Toll_Percent:case window.Fight.BuffTypes.Or_Toll_Percent:this.FBD_AddTollPercent(this.fbd_buff_value);break;case window.Fight.BuffTypes.We_Stay_Percent:case window.Fight.BuffTypes.Or_Stay_Percent:this.FBD_AddStopPercent(this.fbd_buff_value)}return t},i.FBD_TollBuild=function(t){return this.fbd_user==t?4==this.id?(console.log("\u672c\u65b9\u73a9\u5bb6\u8def\u8fc7\u589e\u52a0\u91d1\u5e01"+this.fbd_buff_value),this.fbd_buff_value):0:(5==this.id&&this.FBD_AddTollPercent(this.fbd_buff_value),console.log("\u5bf9\u65b9\u8def\u8fc7\u6263\u8d39"+this.FBD_GetTollConsume()),-this.FBD_GetTollConsume())},i.FBD_StopBuild=function(t){return this.fbd_user==t?(this.FBD_LevelUp()&&console.log("\u672c\u65b9\u5efa\u7b51\u7b49\u7ea7\u63d0\u5347"+this.fbd_level),3==this.id?(console.log("\u672c\u65b9\u73a9\u5bb6\u589e\u52a0\u91d1\u5e01"+this.fbd_buff_value),this.fbd_buff_value):0):(console.log("\u5bf9\u65b9\u73a9\u5bb6\u505c\u7559\u6263\u8d39"+this.FBD_GetStopConsume()),-this.FBD_GetStopConsume())},i.FBD_AddTollValue=function(t){this.fbd_addToll+=t},i.FBD_AddTollPercent=function(t){this.fbd_multipleToll+=t},i.FBD_AddStopPercent=function(t){this.fbd_addStop+=t},i.FBD_GetTollConsume=function(){return(this.fbd_addToll+this.fbd_baseToll*this.fbd_level)*(1+this.fbd_multipleToll)},i.FBD_GetStopConsume=function(){return(this.fbd_addToll+this.fbd_baseToll*this.fbd_level)*(this.fbd_baseStop+this.fbd_addStop)},i.FBD_GetStopPercent=function(){return this.fbd_baseStop+this.fbd_addStop},i.FBD_GetBuildImage=function(){return window.Datas.user_run_builddata[this.id].bdt_image},i.FBD_GetBuildType=function(){return window.Datas.user_run_builddata[this.id].type},t}();i.exports=e,cc._RF.pop()},{}],FightCharacterData:[function(t,i){"use strict";cc._RF.push(i,"36d424E3ElLnL21PbQAgU4T","FightCharacterData"),i.exports=function(t){this.startPosIndex=0,this.startPosIndex=t},cc._RF.pop()},{}],FightCharacterItem:[function(t,i){"use strict";cc._RF.push(i,"dff83t9BGFP8YpXXzCDKk/7","FightCharacterItem"),cc.Class({extends:t("ItemBase"),properties:{_fightCharacterItem:cc.Node,fci_arraw:null,fci_image:null,fci_name:null},InitUI:function(){this._fightCharacterItem=this.node,this.fci_arraw=this.node.getChildByName("FightCharArraw").getComponent(cc.Sprite),this.fci_image=this.node.getChildByName("FightCharacterImage").getComponent(cc.Sprite),this.fci_name=this.node.getChildByName("FightCharName").getComponent(cc.Label)},SetDefaultData:function(){},SetDefaultUI:function(t){var i=this;this.fci_name.string=t.name,this._fightCharacterItem.setPosition(t.pos),window.Tools.LoadRes(t.image,cc.SpriteFrame,function(t){i.fci_image.spriteFrame=t}),window.Tools.LoadRes(t.arraw,cc.SpriteFrame,function(t){i.fci_arraw.spriteFrame=t})},OnRegister:function(){},UnRegister:function(){},OnCreate:function(t){this.InitUI(),this.OnRegister(),this.SetDefaultData(),this.SetDefaultUI(t)},OnOpen:function(t){this.SetDefaultUI(t)},OnClose:function(){},OnDestroy:function(){this.UnRegister()}}),cc._RF.pop()},{ItemBase:"ItemBase"}],FightDiceData:[function(t,i){"use strict";cc._RF.push(i,"17d1eOimjFDnLQABSR+g/po","FightDiceData"),i.exports=function(t,i,e,n){this.diceNum=1,this.startPos=new cc.v2(0,0),this.upPos=new cc.v2(0,0),this.endPos=new cc.v2(0,0),this.diceNum=t,this.startPos=i,this.upPos=e,this.endPos=n},cc._RF.pop()},{}],FightDiceItem:[function(t,i){"use strict";cc._RF.push(i,"bf86f3HG1VG0qMTgVwW/Kd/","FightDiceItem"),cc.Class({extends:t("ItemBase"),properties:{_fightDiceItem:cc.Node,_fightDiceNum1:cc.Node,_fightDiceNum2:cc.Node,_fightDiceNum3:cc.Node,_fightDiceNum4:cc.Node,_fightDiceNum5:cc.Node,_fightDiceNum6:cc.Node,fightDiceItemNumPosArray1:{default:[],visible:!1},fightDiceItemNumPosArray2:{default:[],visible:!1},fightDiceItemNumPosArray3:{default:[],visible:!1},fightDiceItemNumPosArray4:{default:[],visible:!1},fightDiceItemNumPosArray5:{default:[],visible:!1},fightDiceItemNumPosArray6:{default:[],visible:!1},fightDiceItemNumPosAllArray:{default:[],visible:!1},fightDiceItemArray:{default:[],visible:!1}},InitUI:function(){this._fightDiceItem=this.node,this._fightDiceNum1=window.Tools.GetChildByName(this.node,"FightDiceBg/FightDiceNum1"),this._fightDiceNum2=window.Tools.GetChildByName(this.node,"FightDiceBg/FightDiceNum2"),this._fightDiceNum3=window.Tools.GetChildByName(this.node,"FightDiceBg/FightDiceNum3"),this._fightDiceNum4=window.Tools.GetChildByName(this.node,"FightDiceBg/FightDiceNum4"),this._fightDiceNum5=window.Tools.GetChildByName(this.node,"FightDiceBg/FightDiceNum5"),this._fightDiceNum6=window.Tools.GetChildByName(this.node,"FightDiceBg/FightDiceNum6")},OnRegister:function(){},UnRegister:function(){},SetFightDiceItemPosData:function(){for(var t=this.fightDiceItemNumPosArray1,i=this.fightDiceItemNumPosArray2,e=this.fightDiceItemNumPosArray3,n=this.fightDiceItemNumPosArray4,o=this.fightDiceItemNumPosArray5,s=this.fightDiceItemNumPosArray6,a=0;a<this._fightDiceNum1.children.length;a++)t.push(this._fightDiceNum1.children[a]);for(var h=0;h<this._fightDiceNum2.children.length;h++)i.push(this._fightDiceNum2.children[h]);for(var r=0;r<this._fightDiceNum3.children.length;r++)e.push(this._fightDiceNum3.children[r]);for(var c=0;c<this._fightDiceNum4.children.length;c++)n.push(this._fightDiceNum4.children[c]);for(var l=0;l<this._fightDiceNum5.children.length;l++)o.push(this._fightDiceNum5.children[l]);for(var u=0;u<this._fightDiceNum6.children.length;u++)s.push(this._fightDiceNum6.children[u]);this.fightDiceItemNumPosAllArray.push(t),this.fightDiceItemNumPosAllArray.push(i),this.fightDiceItemNumPosAllArray.push(e),this.fightDiceItemNumPosAllArray.push(n),this.fightDiceItemNumPosAllArray.push(o),this.fightDiceItemNumPosAllArray.push(s)},SetDiceItemPosUI:function(t){this._fightDiceItem.setPosition(t)},SetDiceNumItemUI:function(t){for(var i=0;i<this.fightDiceItemNumPosAllArray[t-1].length;i++)window.Tools.CreateItem(window.Names.item_fightDiceNumItem,i,this.fightDiceItemNumPosAllArray[t-1][i],function(t){this.fightDiceItemArray.push(t)}.bind(this))},SetActiveDiceAni:function(t,i){var e=this;this.node.angle=0,cc.tween(this.node).to(.1,{position:t,angle:0}).to(.2,{position:i,angle:360}).to(.2,{position:cc.v2(i.x,i.y+-2)}).to(.1).to(.5,{position:cc.v2(i.x,i.y+10)}).to(.1).to(.4,{position:cc.v2(i.x,i.y+0)}).to(.1).to(.5,{position:cc.v2(i.x,i.y+10)}).to(.1).to(.4,{position:cc.v2(i.x,i.y+0)}).call(function(){for(var t=0;t<e.fightDiceItemArray.length;t++)window.Tools.RecycleNode(e.fightDiceItemArray[t]);window.Tools.SendMessage(window.Names.eventName_fightDiceActiveEnd,123)}).start()},SetDefaultData:function(){this.SetFightDiceItemPosData()},SetDefaultUI:function(t){this.SetDiceNumItemUI(t.diceNum),this.SetDiceItemPosUI(t.startPos),this.SetActiveDiceAni(t.upPos,t.endPos)},RefreshUI:function(t){this.SetDiceNumItemUI(t.diceNum),this.SetDiceItemPosUI(t.startPos),this.SetActiveDiceAni(t.upPos,t.endPos)},ClearFightDice:function(){for(var t=0;t<this.fightDiceItemArray.length;t++)window.Tools.RecycleNode(this.fightDiceItemArray[t]);this.fightDiceItemArray=[]},OnCreate:function(t){this.InitUI(),this.OnRegister(),this.SetDefaultData(),this.SetDefaultUI(t)},OnOpen:function(t){this.RefreshUI(t)},OnClose:function(){this.ClearFightDice()},OnDestroy:function(){this.UnRegister()}}),cc._RF.pop()},{ItemBase:"ItemBase"}],FightDiceNumItem:[function(t,i){"use strict";cc._RF.push(i,"eafa3AjiW9E76Gy0hyCPwvm","FightDiceNumItem"),cc.Class({extends:t("ItemBase"),properties:{_fightDiceNumItem:cc.Node},InitUI:function(){this._fightDiceNumItem=this.node},OnRegister:function(){},UnRegister:function(){},OnCreate:function(){this.InitUI(),this.OnRegister()},OnOpen:function(){},OnClose:function(){},OnDestroy:function(){this.UnRegister()}}),cc._RF.pop()},{ItemBase:"ItemBase"}],FightFloorData:[function(t,i){"use strict";cc._RF.push(i,"99d979yW4xMYY3IebHKyT6y","FightFloorData"),i.exports=function(t,i,e,n){this.id=0,this.floorBuildType=-1,this.floorBuildingAttributionIndex=0,this.floorScaleX=1,this.id=t,this.floorBuildType=i,this.floorBuildingAttributionIndex=e,this.floorScaleX=n},cc._RF.pop()},{}],FightFlyMoneyItem:[function(t,i){"use strict";cc._RF.push(i,"480beY2pfxBfIbWCiNQBhOB","FightFlyMoneyItem"),cc.Class({extends:t("ItemBase"),properties:{_moveContent:cc.Node,_changeMoneyLabel:cc.Label,_curShowNum:0},InitUI:function(){this._moveContent=window.Tools.GetChildByName(this.node,"MoveContent"),this._changeMoneyLabel=window.Tools.GetChildByName(this.node,"MoveContent/ChangeMoneyLabel").getComponent(cc.Label)},SetChangeMoneyUI:function(){var t=this;this._changeMoneyLabel.string=this._curShowNum,cc.tween(this._moveContent).then(cc.jumpTo(.4,this._moveContent.getPosition(),40,1)).call(function(){window.Tools.RecycleNode(t.node)}).start()},OnRegister:function(){},UnRegister:function(){},OnCreate:function(t){this._curShowNum=t,this.InitUI(),this.OnRegister(),this.SetChangeMoneyUI()},OnOpen:function(t){this._curShowNum=t,this.SetChangeMoneyUI()},OnClose:function(){},OnDestroy:function(){this.UnRegister()}}),cc._RF.pop()},{ItemBase:"ItemBase"}],FightPlayerData:[function(t,i){"use strict";cc._RF.push(i,"c1efdksgl1KCYGH26/O46yc","FightPlayerData");var e=function(){function t(t,i,e){this.id=0,this.fuser=!0,this.fcoin=5e3,this.flosecoin=0,this.fstate=0,this.fruptcy=!1,this.InitFightPlayer(t,i,e)}var i=t.prototype;return i.InitFightPlayer=function(t,i,e){this.id=0,this.fuser=i,this.fcoin=5e3+e,this.fstate=0,this.fruptcy=0},i.SetLoseCoin=function(t){this.flosecoin+=t},i.DealLoseCoin=function(){return this.fcoin-=this.flosecoin,this.flosecoin=0,this.fruptcy=this.fcoin<=0,this.fcoin=this.fcoin<=0?0:this.fcoin,this.fruptcy},t}();i.exports=e,cc._RF.pop()},{}],FightSingleBuildFloorItem:[function(t,i){"use strict";cc._RF.push(i,"a9b8drfxftCZYPwXGK/aTuZ","FightSingleBuildFloorItem"),cc.Class({extends:t("ItemBase"),properties:{_buildFloorBase:cc.Node,_buildFloorImage:cc.Sprite,_buildingContent:cc.Node,_buildingImage:cc.Sprite,_curFightFloorData:null},InitUI:function(){this._buildFloorBase=window.Tools.GetChildByName(this.node,"BuildFloorBase"),this._buildFloorImage=this._buildFloorBase.getComponent(cc.Sprite),this._buildingContent=window.Tools.GetChildByName(this.node,"BuildingContent"),this._buildingImage=window.Tools.GetChildByName(this.node,"BuildingContent/BuildingImage").getComponent(cc.Sprite)},OnRegister:function(){},UnRegister:function(){},SetBuildingFloorBaseColor:function(t){this._buildFloorBase.color=0==t?cc.Color.BLUE:1==t?cc.Color.RED:cc.Color.WHITE},SetBuildingFloorImage:function(){var t=this;window.Tools.LoadRes(window.Fight.AllFloorImageArray[this._curFightFloorData.floorBuildType],cc.SpriteFrame,function(i){t._buildFloorImage.spriteFrame=i}),t._buildFloorImage.node.scaleX=this._curFightFloorData.floorScaleX},SetBuildingContent:function(t){this._buildingContent.active=t},SetBuildingImage:function(t){var i=this;window.Tools.LoadRes(window.Fight.AllBuildingImageArray[t],cc.SpriteFrame,function(t){i._buildingImage.spriteFrame=t})},SetBuildImgAndContent:function(t){this.SetBuildingContent(!0),this.SetBuildingImage(t),this.SetBuildingFloorBaseColor(this._curFightFloorData.floorBuildingAttributionIndex)},SetDefaultUI:function(){this.SetBuildingFloorBaseColor(-1),this.SetBuildingFloorImage(),this.SetBuildingContent(!1),this.SetFloorBuildShow()},RefreshUI:function(){this.SetBuildingFloorBaseColor(-1),this.SetBuildingFloorImage(),this.SetBuildingContent(!1),this.SetFloorBuildShow()},SetFloorBuildShow:function(){this.node.active=1==this._curFightFloorData.id},OnCreate:function(t){this._curFightFloorData=t,this.InitUI(),this.OnRegister(),this.SetDefaultUI()},OnOpen:function(t){this._curFightFloorData=t,this.RefreshUI()},OnClose:function(){},OnDestroy:function(){this.UnRegister()}}),cc._RF.pop()},{ItemBase:"ItemBase"}],FightWindowTwo:[function(t,i){"use strict";cc._RF.push(i,"1a686tlRUlNH69hU1JSQktL","FightWindowTwo"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],FightWindow:[function(t,i){"use strict";cc._RF.push(i,"d92d0Y4UvpGv7vVauFeeJym","FightWindow");var e=t("FightDiceData"),n=t("FightBuildData"),o=t("FightPlayerData");cc.Class({extends:t("ViewBase"),properties:{f_user:null,f_enemy:null,f_turn_self:null,f_backButton:null,f_user_head:null,f_user_ruptcy:null,f_user_head_turn:null,f_user_head_icon:null,f_user_head_name:null,f_user_coin_value:null,f_enemy_head:null,f_enemy_ruptcy:null,f_enemy_head_turn:null,f_enemy_head_icon:null,f_enemy_head_name:null,f_enemy_coin_value:null,f_first_show:null,f_first_tips_1:null,f_first_tips_2:null,f_first_back_node:null,f_first_coin_1:null,f_first_coin_2:null,f_first_coin_3:null,fightFloorDataArray:{default:[],visible:!1},_floorGroup1:cc.Node,_floorGroup2:cc.Node,_floorGroup3:cc.Node,_floorGroup4:cc.Node,fightBaseFloorList:{default:[],visible:!1},fightBuildingFloorPosList:{default:[],visible:!1},_posGroup1:cc.Node,_posGroup2:cc.Node,_posGroup3:cc.Node,_posGroup4:cc.Node,fightFloorPosList:{default:[],visible:!1},fightDiceContent:cc.Node,fightDiceButton:cc.Node,fightDicePowerLength:cc.Sprite,_isTouchStart:!1,_isAddTime:!1,_floatTimeDelta:0,fightDiceIntervalArray:{default:[],visible:!1},fightActiveDiceContent:cc.Node,fightActiveDiceItemArray:{default:[],visible:!1},FloorBuilds:{default:[],visible:!1},fightActiveDiceEndNum:0,fightCharacterContent:cc.Node,fightCharacterItemArray:{default:[],visible:!1},fightCharacterPosArray:{default:[],visible:!1},fightCharacterRollArray:{default:[],visible:!1},fightCurMoveIndex:0,isHaveCharLose:!1,be_safeCall:!1},InitUI:function(){this._floorGroup1=window.Tools.GetChildByName(this.node,"ShowPanel/FightFloorContent/FightFloors/FloorGroup1"),this._floorGroup2=window.Tools.GetChildByName(this.node,"ShowPanel/FightFloorContent/FightFloors/FloorGroup2"),this._floorGroup3=window.Tools.GetChildByName(this.node,"ShowPanel/FightFloorContent/FightFloors/FloorGroup3"),this._floorGroup4=window.Tools.GetChildByName(this.node,"ShowPanel/FightFloorContent/FightFloors/FloorGroup4"),this._posGroup1=window.Tools.GetChildByName(this.node,"ShowPanel/FightFloorContent/FightFloorPosGroup/PosGroup1"),this._posGroup2=window.Tools.GetChildByName(this.node,"ShowPanel/FightFloorContent/FightFloorPosGroup/PosGroup2"),this._posGroup3=window.Tools.GetChildByName(this.node,"ShowPanel/FightFloorContent/FightFloorPosGroup/PosGroup3"),this._posGroup4=window.Tools.GetChildByName(this.node,"ShowPanel/FightFloorContent/FightFloorPosGroup/PosGroup4"),this.fightDiceContent=window.Tools.GetChildByName(this.node,"ShowPanel/FightDiceContent"),this.fightDiceButton=window.Tools.GetChildByName(this.node,"ShowPanel/FightDiceContent/FightDiceButton"),this.fightDicePowerLength=window.Tools.GetChildByName(this.node,"ShowPanel/FightDiceContent/FightDicePowerLength").getComponent(cc.Sprite),this.fightActiveDiceContent=window.Tools.GetChildByName(this.node,"ShowPanel/FightActiveDiceContent"),this.fightCharacterContent=window.Tools.GetChildByName(this.node,"ShowPanel/FightCharacterContent"),this.enemy_id=2,this.f_backButton=this.node.getChildByName("Full_BackButton"),this.f_user_head=this.node.getChildByName("UserHead"),this.f_enemy_head=this.node.getChildByName("EnemyHead"),this.f_user_ruptcy=window.Tools.GetChildByName(this.f_user_head,"RuptcyParent"),this.f_enemy_ruptcy=window.Tools.GetChildByName(this.f_enemy_head,"RuptcyParent"),this.f_user_head_turn=window.Tools.GetChildByName(this.f_user_head,"HeadParent/TurnLight"),this.f_enemy_head_turn=window.Tools.GetChildByName(this.f_enemy_head,"HeadParent/TurnLight"),this.f_user_head_icon=window.Tools.GetChildByName(this.f_user_head,"HeadParent/HeadBg/HeadMask/HeadIcon").getComponent(cc.Sprite),this.f_enemy_head_icon=window.Tools.GetChildByName(this.f_enemy_head,"HeadParent/HeadBg/HeadMask/HeadIcon").getComponent(cc.Sprite),this.f_user_head_name=window.Tools.GetChildByName(this.f_user_head,"HeadParent/RoleName").getComponent(cc.Label),this.f_enemy_head_name=window.Tools.GetChildByName(this.f_enemy_head,"HeadParent/RoleName").getComponent(cc.Label),this.f_user_coin_value=window.Tools.GetChildByName(this.f_user_head,"HeadParent/CoinValue").getComponent(cc.Label),this.f_enemy_coin_value=window.Tools.GetChildByName(this.f_enemy_head,"HeadParent/CoinValue").getComponent(cc.Label),this.f_first_show=this.node.getChildByName("FightFirsthandShow"),this.f_first_tips_1=window.Tools.GetChildByName(this.f_first_show,"FirstHandTips"),this.f_first_tips_2=window.Tools.GetChildByName(this.f_first_show,"BackHandTips"),this.f_first_back_node=window.Tools.GetChildByName(this.f_first_show,"BackhandCoin"),this.f_first_coin_1=window.Tools.GetChildByName(this.f_first_show,"BaseCoin/HasCoinValue").getComponent(cc.Label),this.f_first_coin_2=window.Tools.GetChildByName(this.f_first_show,"LevelCoin/HasCoinValue").getComponent(cc.Label),this.f_first_coin_3=window.Tools.GetChildByName(this.f_first_show,"BackhandCoin/HasCoinValue").getComponent(cc.Label),this.f_turn_self=this.node.getChildByName("FightTurnSelf")},OnRegister:function(){this.fightDiceButton.on(cc.Node.EventType.TOUCH_START,function(){this.OnDiceButtonDownEvent()}.bind(this),this),this.fightDiceButton.on(cc.Node.EventType.TOUCH_END,function(){this.OnDiceButtonUpEvent()}.bind(this),this),this.f_backButton.on("click",function(){this.OpenExitTipsWindow()}.bind(this),this),window.Tools.AddAisle(window.Names.eventName_fightDiceActiveEnd,this.OnFightDiceActiveEndEvent,this),window.Tools.AddAisle(window.Names.eventName_fightRoundStartEvent,this.OnRoundStartEvent,this),window.Tools.AddAisle(window.Names.eventName_fightRoundEndEvent,this.OnRoundEndEvent,this),window.Tools.AddAisle(window.Names.eventName_fightCreateEndState,this.FightPlayerCreateBuild,this)},UnRegister:function(){this.fightDiceButton.targetOff(this),this.f_first_back_node.targetOff(this),window.Tools.LessAisle(window.Names.eventName_fightDiceActiveEnd,this.OnFightDiceActiveEndEvent,this),window.Tools.LessAisle(window.Names.eventName_fightRoundStartEvent,this.OnRoundStartEvent,this),window.Tools.LessAisle(window.Names.eventName_fightRoundEndEvent,this.OnRoundEndEvent,this),window.Tools.LessAisle(window.Names.eventName_fightCreateEndState,this.FightPlayerCreateBuild,this)},OpenExitTipsWindow:function(){window.Views.OpenView(window.Names.win_fight_exitFightView)},SetFlyMoneyUI:function(t,i){window.Tools.CreateItem(window.Names.item_fight_fightFlyMoneyItem,t,this.fightFloorPosList[i],function(){}.bind(this))},SyncHeadsUI:function(){var t=this;this.f_user_head_turn.opacity=0,this.f_enemy_head_turn.opacity=0;var i=this.enemy_id,e=window.Datas.user.charid,n=window.Datas.user_run_chardata[e],o=window.Datas.user_run_chardata[i];this.f_user_head_name.string=window.Datas.user.name,this.f_enemy_head_name.string=o.cdt_name,this.f_user_coin_value.string=this.f_user.fcoin,this.f_enemy_coin_value.string=this.f_enemy.fcoin,window.Tools.LoadRes(n.cdt_icon,cc.SpriteFrame,function(i){t.f_user_head_icon.spriteFrame=i}),window.Tools.LoadRes(o.cdt_icon,cc.SpriteFrame,function(i){t.f_enemy_head_icon.spriteFrame=i})},TurnHeadUI:function(t){cc.tween(this.f_user_head_turn).then(cc.fadeTo(.2,1==t?255:0)).start(),cc.tween(this.f_enemy_head_turn).then(cc.fadeTo(.2,0==t?255:0)).start(),cc.tween(this.f_user_head).then(cc.scaleTo(.2,1==t?1.1:1)).start(),cc.tween(this.f_enemy_head).then(cc.scaleTo(.2,0==t?1.1:1)).start()},TurnShowUI:function(t){var i=this;this.f_turn_self.active=t,t&&(cc.tween(this.f_turn_self).then(cc.scaleTo(.3,1)).then(cc.scaleTo(.5,1)).then(cc.scaleTo(.19,0)).start(),this.scheduleOnce(function(){i.f_turn_self.active=!1}.bind(this),1))},SyncFirstUI:function(t){var i=this;this.fightDiceContent.active=!1,this.f_first_tips_1.active=t,this.f_first_tips_2.active=!t,this.f_first_back_node.active=!t,this.f_first_coin_1.string=5e3,this.f_first_coin_2.string=50,t||(this.f_first_coin_3.string=450),this.f_first_show.active=!0,cc.tween(this.f_first_show).then(cc.scaleTo(.2,1.1)).then(cc.scaleTo(.1,1)).then(cc.scaleTo(.6,1)).then(cc.scaleTo(.09,0)).start(),this.scheduleOnce(function(){i.f_first_show.active=!1}.bind(this),1)},FightInit:function(){this.be_safeCall=!1;null==this.f_user?this.f_user=new o(window.Datas.user.charid,!0,50):this.f_user.InitFightPlayer(window.Datas.user.charid,!0,50),null==this.f_enemy?this.f_enemy=new o(this.enemy_id,!0,500):this.f_enemy.InitFightPlayer(this.enemy_id,!0,500),this.f_builds=[],window.Result={},window.Result.UserCount=[0,0,0,0,0,0],window.Result.EnemCount=[0,0,0,0,0,0],this.SyncHeadsUI(),this.FightFirstShow(!0)},FightFirstShow:function(t){this.SyncFirstUI(t),this.SetCharacterUI(),this.scheduleOnce(function(){t?(this.FightRollingState(t),this.FightWaittigState(!t)):(this.FightWaittigState(t),this.FightRollingState(!t))}.bind(this),1.2)},FightWaittigState:function(t){t?(this.f_user.fstate=0,cc.tween(this.fightCharacterItemArray[0]).then(cc.fadeTo(.2,128)).start(),cc.tween(this.fightCharacterItemArray[1]).then(cc.fadeTo(.2,255)).start()):(this.f_enemy.fstate=0,cc.tween(this.fightCharacterItemArray[0]).then(cc.fadeTo(.2,255)).start(),cc.tween(this.fightCharacterItemArray[1]).then(cc.fadeTo(.2,128)).start())},FightRollingState:function(t){this.TurnHeadUI(t),this.TurnShowUI(t),t?(this.f_user.fstate=1,this.scheduleOnce(function(){var t=this;this.fightDiceContent.opacity=0,this.fightDiceButton.active=!1,this.fightDiceContent.active=!0,this.fightDicePowerLength.fillRange=0,cc.tween(this.fightDiceContent).then(cc.fadeTo(.2,255)).call(function(){t.fightDiceButton.active=!0}).start()}.bind(this),1.2)):(this.f_enemy.fstate=1,this.scheduleOnce(function(){this.fightDiceContent.active=!1}.bind(this),1.2))},FightMovingState:function(t,i){var e=this.fightFloorDataArray[i];if(t){if(this.f_user.fstate=2,2==e.id){var n=this.f_builds[i].FBD_TollBuild(t);0!=n&&(this.f_user.SetLoseCoin(-1*n),this.SetFlyMoneyUI(n,i))}}else if(this.f_enemy.fstate=2,2==e.id){var o=this.f_builds[i].FBD_TollBuild(t);0!=o&&(this.f_enemy.SetLoseCoin(-1*o),this.SetFlyMoneyUI(o,i))}e=null},FightStopState:function(t){var i=this.fightFloorDataArray[this.stopindex];if(t?this.f_user.fstate=3:this.f_enemy.fstate=3,1==i.id)if(window.Fight.CurFloorType=i.floorBuildType,t)window.Views.OpenView(window.Names.win_fight_create);else{var e=this;this.scheduleOnce(function(){e.FightRobotCreateBuild()}.bind(this),1.5)}else if(2==i.id){if(t){var n=this.f_builds[this.stopindex].FBD_StopBuild(t);0!=n&&(this.f_user.SetLoseCoin(-1*n),this.SetFlyMoneyUI(n,this.stopindex))}else{var o=this.f_builds[this.stopindex].FBD_StopBuild(t);0!=o&&(this.f_enemy.SetLoseCoin(-1*o),this.SetFlyMoneyUI(o,this.stopindex))}this.FightFinished(t)}else this.FightFinished(t)},FightFinished:function(t){var i=this,e=1==t?this.f_user:this.f_enemy,n=e.fcoin,o=e.DealLoseCoin(),s=e.fcoin;if(n!=s){var a={a:n};t?cc.tween(a).to(.3,{a:s},{progress:function(t,e,n,o){return i.f_user_coin_value.string=parseInt(t+(e-t)*o),t+(e-t)*o}}).start():cc.tween(a).to(.3,{a:s},{progress:function(t,e,n,o){return i.f_enemy_coin_value.string=parseInt(t+(e-t)*o),t+(e-t)*o}}).start()}if(cc.log(this.fightCurMoveIndex+"\u56de\u5408\u7ed3\u675f"),o)t?(this.f_user_ruptcy.active=!0,cc.tween(this.f_user_ruptcy).then(cc.scaleTo(.1,1.2)).then(cc.scaleTo(.1,1)).start(),window.Result.Win=!1):(this.f_enemy_ruptcy.active=!0,cc.tween(this.f_enemy_ruptcy).then(cc.scaleTo(.1,1.2)).then(cc.scaleTo(.1,1)).start(),window.Result.Win=!0),this.scheduleOnce(function(){window.Views.OpenView(window.Names.win_result),window.Views.CloseView(i.node)}.bind(this),1);else{if(t){var h=this;this.FightWaittigState(!0),this.FightRollingState(!1),this.scheduleOnce(function(){h.SetJumpDiceUI(1)}.bind(this),1)}else this.FightWaittigState(!1),this.FightRollingState(!0);this.fightCurMoveIndex=0==this.fightCurMoveIndex?1:0}},FightPlayerCreateBuild:function(t){this.fightFloorDataArray[this.stopindex].id=2,this.fightFloorDataArray[this.stopindex].floorBuildingAttributionIndex=0,this.f_builds[this.stopindex]=new n(t._id,t._bool),window.Result.UserCount[t._id]++,console.log("\u73a9\u5bb6\u521b\u5efa\u4e86\u4e00\u4e2a\u5efa\u7b51\u7269"),this.FightFinished(t._bool),this.CreateTrueBuild(t._id)},FightRobotCreateBuild:function(){this.fightFloorDataArray[this.stopindex].id=2,this.fightFloorDataArray[this.stopindex].floorBuildingAttributionIndex=1,this.f_builds[this.stopindex]=new n(this.fightFloorDataArray[this.stopindex].floorBuildType,!1),window.Result.EnemCount[this.fightFloorDataArray[this.stopindex].floorBuildType]++,console.log("\u5bf9\u65b9\u521b\u5efa\u4e86\u4e00\u4e2a\u5efa\u7b51\u7269"),this.FightFinished(!1),this.CreateTrueBuild(this.fightFloorDataArray[this.stopindex].floorBuildType)},CreateTrueBuild:function(t){var i=this.FloorBuilds[this.stopindex].getComponent(window.Names.item_fight_fightBuildingFloor);i.SetBuildImgAndContent(t),i=null},OnDiceButtonDownEvent:function(){this._isTouchStart=!0,this._isAddTime=!0,this._floatTimeDelta=0},OnDiceButtonUpEvent:function(){this._isTouchStart=!1,this.fightDiceButton.active=!1;for(var t=0;t<this.fightDiceIntervalArray.length;t++)if(this._floatTimeDelta<=this.fightDiceIntervalArray[t]){this.SetJumpDiceUI(this.fightCurMoveIndex,t);break}},OnFightDiceActiveEndEvent:function(){this.fightActiveDiceEndNum++,2==this.fightActiveDiceEndNum&&(this.fightActiveDiceEndNum=0,this.ClearRolls(),this.fightDiceContent.active=!1,this.SetCharacterMoveByCharIndex(this.fightCurMoveIndex))},OnRoundStartEvent:function(){},OnRoundEndEvent:function(){this.FightStopState(0==this.fightCurMoveIndex)},SetFloorPosData:function(){for(var t=this.fightBaseFloorList,i=this.fightBuildingFloorPosList,e=0;e<this._floorGroup1.children.length;e++)t.push(this._floorGroup1.children[e].getChildByName("BaseFloor")),i.push(this._floorGroup1.children[e].getChildByName("BaseBuildingFloor"));for(var n=0;n<this._floorGroup2.children.length;n++)t.push(this._floorGroup2.children[n].getChildByName("BaseFloor")),i.push(this._floorGroup2.children[n].getChildByName("BaseBuildingFloor"));for(var o=this._floorGroup3.children.length-1;o>=0;o--)t.push(this._floorGroup3.children[o].getChildByName("BaseFloor")),i.push(this._floorGroup3.children[o].getChildByName("BaseBuildingFloor"));for(var s=this._floorGroup4.children.length-1;s>=0;s--)t.push(this._floorGroup4.children[s].getChildByName("BaseFloor")),i.push(this._floorGroup4.children[s].getChildByName("BaseBuildingFloor"));for(var a=this.fightFloorPosList,h=0;h<this._posGroup1.children.length;h++)a.push(this._posGroup1.children[h]);for(var r=0;r<this._posGroup2.children.length;r++)a.push(this._posGroup2.children[r]);for(var c=0;c<this._posGroup3.children.length;c++)a.push(this._posGroup3.children[c]);for(var l=0;l<this._posGroup4.children.length;l++)a.push(this._posGroup4.children[l])},SetBuildingFloorUI:function(){this.FloorBuilds=[];for(var t=0;t<this.fightFloorDataArray.length;t++)window.Tools.CreateItem(window.Names.item_fight_fightBuildingFloor,this.fightFloorDataArray[t],this.fightBuildingFloorPosList[t],function(t){this.FloorBuilds.push(t)}.bind(this))},SetCharacterUI:function(){for(var t=0;t<this.fightCharacterPosArray.length;t++)this.CreateCharacterItem(this.fightCharacterPosArray[t],t)},CreateCharacterItem:function(t,i){var e="",n="",o="";0==i?(o=window.Names.image_fight_mark_self,e=window.Datas.user.name,n=window.Datas.user_run_chardata[window.Datas.user.charid].cdt_image):(o=window.Names.image_fight_mark_enem,e=window.Datas.user_run_chardata[this.enemy_id].cdt_name,n=window.Datas.user_run_chardata[this.enemy_id].cdt_image),window.Tools.CreateItem(window.Names.item_fightCharacterItem,{arraw:o,name:e,image:n,pos:this.fightFloorPosList[t].getPosition()},this.fightCharacterContent,function(t){this.fightCharacterItemArray.push(t)}.bind(this))},GetDiceNumByCharIndex:function(t,i){var e=0;switch(t){case 0:e=this.GetDiceNumByDiceRange(i);break;case 1:e=cc.math.randomRangeInt(2,13);break;default:cc.error("character index error")}return e},GetDiceNumByDiceRange:function(t){var i=0;switch(t){case 0:i=cc.math.randomRangeInt(2,5);break;case 1:i=cc.math.randomRangeInt(5,8);break;case 2:i=cc.math.randomRangeInt(7,10);break;case 3:i=cc.math.randomRangeInt(10,13);break;default:cc.error("rolling error")}return i},SetJumpDiceUI:function(t,i){var n=this.GetDiceNumByCharIndex(t,i);this.fightCharacterRollArray[t]=n;var o=this.GetOneRandomDiceNumByOneNum(n),s=new e(o,new cc.v2(800,120),new cc.v2(400,520),new cc.v2(-40,20)),a=new e(n-o,new cc.v2(850,100),new cc.v2(450,500),new cc.v2(40,0));this.CreateActiveDiceUI(s),this.CreateActiveDiceUI(a)},GetOneRandomDiceNumByOneNum:function(t){var i=cc.math.randomRangeInt(1,7);return t-i>6||t-i<1?this.GetOneRandomDiceNumByOneNum(t):i},CreateActiveDiceUI:function(t){window.Tools.CreateItem(window.Names.item_fightDiceItem,t,this.fightActiveDiceContent,function(t){this.fightActiveDiceItemArray.push(t)}.bind(this))},SetCharacterMoveByCharIndex:function(t){var i=this;this.be_safeCall=!0;var e=new Array,n=this.fightCharacterPosArray[t],o=this.fightCharacterRollArray[t];if(n+o<this.fightFloorPosList.length)for(var s=0;s<o;s++)e.push(n+s+1);else{for(var a=n;a<this.fightFloorPosList.length-1;a++)e.push(a+1);for(var h=0;h<n+o-this.fightFloorPosList.length+1;h++)e.push(h)}for(var r=this.fightCharacterItemArray[t],c=cc.tween(r),l=function(n){c=n==e.length-1?c.then(cc.jumpTo(.4,i.fightFloorPosList[e[n]],50,1)).call(function(){cc.tween(i.fightBaseFloorList[e[n]]).then(cc.moveTo(.08,cc.v2(0,-10))).then(cc.moveTo(.05,cc.v2(0,0))).start(),i.stopindex=e[n]}):c.then(cc.jumpTo(.4,i.fightFloorPosList[e[n]],50,1)).call(function(){cc.tween(i.fightBaseFloorList[e[n]]).then(cc.moveTo(.08,cc.v2(0,-10))).then(cc.moveTo(.05,cc.v2(0,0))).start(),i.FightMovingState(0==t,e[n])})},u=0;u<e.length;u++)l(u);c.call(function(){window.Tools.SendMessage(window.Names.eventName_fightRoundEndEvent),i.fightCharacterPosArray[t]=(n+o)%i.fightFloorPosList.length}).start()},ClearItemByItemArray:function(t){if(t&&t.length&&t.length>0){for(var i=0;i<t.length;i++)window.Tools.RecycleNode(t[i]);t=[]}else cc.error("this is not a array")},update:function(){this._isTouchStart&&(this.LoopAddRemoveDeltaTime(),this.fightDicePowerLength.fillRange=this._floatTimeDelta)},LoopAddRemoveDeltaTime:function(){this._isAddTime?(this._floatTimeDelta+=cc.director.getDeltaTime(),this._floatTimeDelta>=.56&&(this._floatTimeDelta=.56,this._isAddTime=!1)):(this._floatTimeDelta-=cc.director.getDeltaTime(),this._floatTimeDelta<=0&&(this._floatTimeDelta=0,this._isAddTime=!0))},SetDefaultData:function(){this.fightFloorDataArray=JSON.parse(JSON.stringify(window.Fight.FightFloorDataArray)),this.SetFloorPosData(),this.fightActiveDiceEndNum=0,this.fightCharacterPosArray.push(0),this.fightCharacterPosArray.push(12),this.fightCharacterRollArray.push(0),this.fightCharacterRollArray.push(0),this.fightDiceIntervalArray=[.13,.27,.41,.56]},SetDefaultUI:function(){this.SetBuildingFloorUI()},ClearData:function(){this.be_safeCall=!1,this.f_user_ruptcy.active=!1,this.fenemy_ruptcy.active=!1,this.f_user_head_turn.stopAllActions(),this.f_enemy_head_turn.stopAllActions(),this.f_user_head.stopAllActions(),this.f_enemy_head.stopAllActions(),this.f_turn_self.stopAllActions(),this.f_first_show.stopAllActions(),this.fightDiceContent.stopAllActions(),this.f_user_ruptcy.stopAllActions(),this.f_enemy_ruptcy.stopAllActions(),this.ClearRolls(),this.ClearCharacters(),this.ClearFloorBuilds(),this.ClearSetTimeOuts(),this.fightCharacterPosArray=[0,12],this.fightCharacterRollArray=[0,0],this.ClearItemByItemArray(),this.ClearItemByItemArray(),this.ClearItemByItemArray(),this.isHaveCharLose=!1,this.fightCurMoveIndex=0},ClearFloorBuilds:function(){for(var t=0;t<this.FloorBuilds.length;t++)this.FloorBuilds[t].stopAllActions(),window.Tools.RecycleNode(this.FloorBuilds[t]);this.FloorBuilds=[]},ClearCharacters:function(){for(var t=0;t<this.fightCharacterItemArray.length;t++)this.fightCharacterItemArray[t].opacity=255,this.fightCharacterItemArray[t].stopAllActions(),window.Tools.RecycleNode(this.fightCharacterItemArray[t]);this.fightCharacterItemArray=[]},ClearRolls:function(){for(var t=0;t<this.fightActiveDiceItemArray.length;t++)this.fightActiveDiceItemArray[t].stopAllActions(),window.Tools.RecycleNode(this.fightActiveDiceItemArray[t]);this.fightActiveDiceItemArray=[]},ClearSetTimeOuts:function(){this.unscheduleAllCallbacks()},OnCreate:function(){this.InitUI(),this.OnRegister(),this.SetDefaultData(),this.FightInit(),this.SetDefaultUI()},OnOpen:function(){this.FightInit(),this.fightFloorDataArray=JSON.parse(JSON.stringify(window.Fight.FightFloorDataArray)),this.SetDefaultUI()},OnClose:function(){this.ClearData()},OnDestroy:function(){this.UnRegister()}}),cc._RF.pop()},{FightBuildData:"FightBuildData",FightDiceData:"FightDiceData",FightPlayerData:"FightPlayerData",ViewBase:"ViewBase"}],GlobalCtrl:[function(t,i){"use strict";cc._RF.push(i,"07461sIlO1BYYJIoFXmCkzE","GlobalCtrl");var e=t("FightFloorData");cc.Class({extends:cc.Component,properties:{},onLoad:function(){window.Types=cc.Enum({Full:0,Always:1,Popups:2,Prompt:3}),window.Fight={},window.Fight.BuffTypes=cc.Enum({We_Toll_Value:0,We_Toll_Percent:1,We_Stay_Value:2,We_Stay_Percent:3,Or_Toll_Value:4,Or_Toll_Percent:5,Or_Stay_Value:6,Or_Stay_Percent:7}),window.Fight.RoleStates=cc.Enum({Wait:0,Roll:1,Move:2,Stop:3}),window.Tools.InitPaths(function(){this.InitDatas()}.bind(this)),this.OnLoadFightFloorData(),this.OnLoadFightImageStr()},OnLoadFightFloorData:function(){for(var t=[],i=[0,3,6,12,15,18],n=[1,2,4,5,7,8],o=[9,10,11,13,14,16],s=[17,19,20,21,22,23],a=0;a<24;a++){var h=new e(0,0,0);h.id=i.includes(a)?3:1,n.includes(a)?h.floorBuildType=0:o.includes(a)?h.floorBuildType=1:s.includes(a)&&(h.floorBuildType=2),h.floorScaleX=a>0&&a<6||a>12&&a<18?-1:1,t.push(h)}window.Fight.FightFloorDataArray=t},OnLoadFightImageStr:function(){window.Fight.AllFloorImageArray=[window.Names.sprite_fightBuildingFloor1,window.Names.sprite_fightBuildingFloor2,window.Names.sprite_fightBuildingFloor3],window.Fight.AllBuildingImageArray=[window.Names.sprite_fightBuildingImage1,window.Names.sprite_fightBuildingImage2,window.Names.sprite_fightBuildingImage3]},InitDatas:function(){window.Datas.InitGameData(function(){this.InitViews(),window.Datas.TempCharData()}.bind(this))},InitViews:function(){var t=this;window.Views||cc.resources.load(window.Paths[window.Names.sys_viewManager],function(i,e){if(!i){var n=cc.instantiate(e);n.parent=t.node,n.getComponent(n.name).OnCreate()}})}}),cc._RF.pop()},{FightFloorData:"FightFloorData"}],GlobalData:[function(t,i){"use strict";cc._RF.push(i,"af91cDrpFdAf70YIZNCL5eU","GlobalData");var e=t("CharacterData"),n=t("UCharacterData"),o=t("BuildingData"),s=t("UBuildingData");function a(){this.items={},this.Keys=function(){return Object.keys(this.items)},this.Values=function(){var t=[];for(var i in this.items)this.ContainsKey(i)&&t.push(this.items[i]);return t},this.ContainsKey=function(t){return this.items.hasOwnProperty(t)},this.TryGetValue=function(t){return this.ContainsKey(t)?this.items[t]:void 0},this.Add=function(t,i){this.ContainsKey(t)?console.log("Dict already contain ",t):this.items[t]=i},this.Set=function(t,i){this.ContainsKey(t)?this.items[t]=i:console.log("Dict doesn`t contain ",t)},this.Remove=function(t){return!!this.ContainsKey(t)&&(delete this.items[t],!0)},this.Clear=function(){this.items={}},this.Count=function(){return Object.keys(this.items).length},this.dictionary=function(){return this.items}}window.Datas=i.exports={user:{cup:0,name:"Richverse",stone:100,audio:.5,charid:0,temp_stone:0,salutation:[],achievement:[]},mapTime:15,max_forge:0,mapDList:[],itemDList:[],levelDList:[],loginDList:[],forgeDList:[],monsterDList:[],surnameDList:[],salutationDList:[],achievementDList:[],mineInfoDList:[],mineUnlockDList:[],currentAwardData:{},currentUnlockStone:{},currentSalutationData:null,item_dictionary:{},equip_dictionary:{},user_run_chardata:[],user_run_builddata:[],user_save_chardata:[],user_save_builddata:[],User_Get:function(){return this.user},User_Set:function(t){this.user=t},UserChar_Get:function(){return this.user_save_chardata},UserChar_Set:function(t){this.user_save_chardata=t},OnAddEvent:function(){cc.mm.EventMgr.AddListener(cc.mm.GameCfg.ADD_01,this.AddMap.bind(this),this),cc.mm.EventMgr.AddListener(cc.mm.GameCfg.ADD_03,this.AddStones.bind(this),this),cc.mm.EventMgr.AddListener(cc.mm.GameCfg.EVENT_04,this.SyncPower.bind(this),this)},AddStones:function(t){this.user.stone+=t,cc.mm.ToolMgr.SetUserDataWithLocal()},CheckCharUp:function(t){return this.user_save_chardata[t].UCD_CanUp(this.user.stone)},CheckBuildUnlock:function(t){return this.user_save_builddata[t].UBD_UnLock(this.user.cup,this.user_run_builddata[t].bcup)},TempCharData:function(){for(var t=0;t<this.user_run_chardata.length;t++)this.user_save_chardata[t]=new n,this.user_save_chardata[t].id=this.user_run_chardata[t].id,0==t?(this.user_save_chardata[t].ucd_use=!0,this.user_save_chardata[t].ucd_ower=!0):(this.user_save_chardata[t].ucd_use=!1,this.user_save_chardata[t].ucd_ower=!1);for(var i=0;i<this.user_run_builddata.length;i++)this.user_save_builddata[i]=new s,this.user_save_builddata[i].id=this.user_run_builddata[i].id,this.user_save_builddata[i].UBD_UnLock(this.user.cup,this.user_run_builddata[i].bcup)},InitGameData:function(t){this.InitTableData(t)},InitTableData:function(t){var i=this,n=0;this.InjectData("CharacterDataTable",function(){return new e},function(t){i.user_run_chardata=t,n++,i.InjectCall(n,!1)}),this.InjectData("BuildingDataTable",function(){return new o},function(e){i.user_run_builddata=e,n++,i.InjectCall(n,!0,t)})},InjectCall:function(t,i,e){i&&e()},InjectData:function(t,i,e){var n=[];window.Tools.LoadRes(t,cc.Json,function(t){for(var o=t.json.length,s=0;s<o;s++){var a=i();a.Init(t.json[s]),n.push(a)}o=null,e(n)})},InjectItemData:function(t){for(var i=new a,e=0;e<t.length;e++)i.Add(t[e].ItemId,t[e]);this.item_dictionary=i}},cc._RF.pop()},{BuildingData:"BuildingData",CharacterData:"CharacterData",UBuildingData:"UBuildingData",UCharacterData:"UCharacterData"}],GlobalName:[function(t,i){"use strict";cc._RF.push(i,"f8c9aSHC79OLaKuH54VnwPJ","GlobalName"),window.Names=i.exports={sys_path:"PathJson",sys_gray:"GrayMaterial",sys_promptView:"PromptView",sys_viewManager:"ViewManager",sys_viewTemplate:"ViewTemplate",png_commonPrompt:"ui_common_prompt",bgm_city:"music_city",win_login:"LoginWindow",win_home:"HomeWindow",win_character:"CharacterWindow",win_fight:"FightWindow",item_fightDiceItem:"FightDiceItem",item_fightDiceNumItem:"FightDiceNumItem",item_fightCharacterItem:"FightCharacterItem",item_character:"CharWinItem",item_character_info:"CharConItem",win_building:"BuildingWindow",item_building:"BuildWinItem",item_building_info:"BuildConItem",win_market:"MarketWindow",win_matching:"MatchingWindow",win_result:"ResultWindow",item_result:"ResultBuildItem",win_fight_logic:"FightLogic",image_fight_mark_self:"ui_fight_player_arraw",image_fight_mark_enem:"ui_fight_enemy_arraw",image_result_mark_self:"ui_result_self_mark",image_result_mark_enem:"ui_result_enem_mark",item_fight_fightBuildingFloor:"FightSingleBuildFloorItem",item_fight_fightFlyMoneyItem:"FightFlyMoneyItem",win_fight_exitFightView:"ExitFightWindow",win_fight_create:"CreateBuildWindow",item_fight_create:"CreateBuildItem",eventName_fightDiceActiveEnd:"event_fightDiceActiveEnd",eventName_fightRoundStartEvent:"event_fightRoundStartEvent",eventName_fightRoundEndEvent:"event_fightRoundEndEvent",eventName_fightCreateEndState:"event_CreateBuildToFinish",sprite_fightBuildingFloor1:"ui_fight_buildingFloor1",sprite_fightBuildingFloor2:"ui_fight_buildingFloor2",sprite_fightBuildingFloor3:"ui_fight_buildingFloor3",sprite_fightBuildingImage1:"ui_build_1_1",sprite_fightBuildingImage2:"ui_build_1_2",sprite_fightBuildingImage3:"ui_build_1_3",NameDataInit:function(){}},cc._RF.pop()},{}],GlobalTool:[function(t,i){"use strict";cc._RF.push(i,"99d8fHZDmBEE5bbJylFhwpz","GlobalTool"),window.Tools=i.exports={debug:!0,plist:[],messages:{},alignment:[],objectPool:{},SendMessage:function(t,i){if(null!=this.messages[t])for(var e=0;e<this.messages[t].length;e++){var n=this.messages[t][e];n.callback.call(n.target,i),n.once&&this.LessMessageCall(t,n.callback,n.target)}},AddAisle:function(t,i,e,n){null==this.messages[t]&&(this.messages[t]=[]),this.messages[t].push({callback:i,target:e,once:n||!1})},LessAisle:function(t,i,e){for(var n=this.messages[t].length-1;n>=0;n--){var o=this.messages[t][n];e==o.target&&i.toString()==o.callback.toString()&&this.messages[t].splice(n,1)}},LogPrint:function(t){this.debug&&console.log("Print___",t)},LogError:function(t){this.debug&&console.log("Error___",t)},LogFrame:function(t){this.debug&&console.log("Frame___",t)},IsNullOrEmpty:function(t){return void 0===t||null==t||""==t},IsEmptyObject:function(t){for(var i in t)return!1;return!0},ShowPrompt:function(t){window.Tools.IsNullOrEmpty(t)||(window.Tools.alignment.push(t),window.Tools.CreateView(window.Names.sys_promptView))},GetPromptInfo:function(){return window.Tools.alignment.shift()},LoadRes:function(t,i,e){cc.resources.load(window.Paths[t],i,function(i,n){i&&cc.error(t+"res is not found"+i.message||i),e(n)})},InitPaths:function(t){cc.resources.load(window.Names.sys_path,function(i,e){i||(window.Paths=e.json,t())})},LoadPlist:function(t,i,e){this.plist[t]?e.spriteFrame=this.plist[t].getSpriteFrame(i):cc.resources.load(window.Paths[t],cc.SpriteAtlas,function(n,o){n&&cc.error(n.message||n),this.plist[t]=o,e.spriteFrame=o.getSpriteFrame(i)})},SetGrayMaterial:function(t){cc.resources.load(window.Paths[window.Names.sys_gray],cc.Material,function(i,e){i&&cc.error(i.message||i),t.setMaterial(0,e)})},CreateView:function(t,i){var e=window.Paths[t],n=this.objectPool[t];if(null==e&&window.Tools.LogError("CreateView path is undefined"+t),n||(n=new cc.NodePool(t),this.objectPool[t]=n),n.size()>0){var o=n.get();o.parent=window.Views.GetViewsParent(o),i&&i(o)}else cc.resources.load(e,function(e,n){if(e)window.Tools.LogPrint(e);else{var o=cc.instantiate(n);o.parent=window.Views.GetViewsParent(o),o.getComponent(t).OnCreate(),i&&i(o)}})},CreateItem:function(t,i,e,n){var o=window.Paths[t],s=this.objectPool[t];if(null==o&&window.Tools.LogError("CreateView path is undefined"+t),s||(s=new cc.NodePool(t),this.objectPool[t]=s),s.size()>0){var a=s.get();a.active=!0,a.parent=e,a.getComponent(t).OnOpen(i),n&&n(a)}else cc.resources.load(o,function(o,s){if(o)window.Tools.LogPrint(o);else{var a=cc.instantiate(s);a.parent=e,a.getComponent(t).OnCreate(i),n&&n(a)}})},RecycleNode:function(t){t.active=!1,this.objectPool[t.name].put(t)},ClearPool:function(){this.objectPool.forEach(function(t){for(var i=0;i<t.length;i++)t[i].clear()}),this.objectPool={}},GetChildByName:function(t,i){if(!t||!i)return cc.mm.ShowLog.Print("Invalid name"),null;for(var e=i.split("/"),n=t,o=0;o<e.length;o++)n=n.getChildByName(e[o]);return n}},cc._RF.pop()},{}],HomeWindow:[function(t,i){"use strict";cc._RF.push(i,"82618bQbGxBHYZe97OtMXAB","HomeWindow"),cc.Class({extends:t("ViewBase"),properties:{hw_UserHead:null,hw_UserName:null,hw_UserStone:null,hw_GameBtn:null,hw_CharBtn:null,hw_BuildBtn:null,hw_MarketBtn:null,hw_CharImgBtn:null,hw_CharImg:null,hw_CharImgMask:null},OnCreate:function(){this.InitUI(),this.SyncUI(),this.OnRegister()},OnOpen:function(){this.SyncUI(),this.OnRegister()},OnClose:function(){this.UnRegister()},OnDestroy:function(){},InitUI:function(){this.hw_UserHead=window.Tools.GetChildByName(this.node,"HomeTitle/HomeHeadIcon").getComponent(cc.Sprite),this.hw_UserName=window.Tools.GetChildByName(this.node,"HomeTitle/HomeName").getComponent(cc.Label),this.hw_UserStone=window.Tools.GetChildByName(this.node,"HomeTitle/HomeCoinValue").getComponent(cc.Label),this.hw_CharImgBtn=this.node.getChildByName("HomeCharImg"),this.hw_GameBtn=this.node.getChildByName("HomeFight"),this.hw_CharBtn=window.Tools.GetChildByName(this.node,"HomeBtn/HomeCharBtn"),this.hw_BuildBtn=window.Tools.GetChildByName(this.node,"HomeBtn/HomeBuildBtn"),this.hw_MarketBtn=window.Tools.GetChildByName(this.node,"HomeBtn/HomeMarketBtn"),this.hw_CharImg=this.node.getChildByName("HomeCharImg").getComponent(cc.Sprite),this.hw_CharImgMask=this.node.getChildByName("HomeCharImgMask").getComponent(cc.Sprite)},SyncUI:function(){var t=this,i=window.Datas.user.charid,e=window.Datas.user_run_chardata[i];window.Datas.user_save_chardata[i],t.hw_UserName.string=window.Datas.user.name,t.hw_UserStone.string=window.Datas.user.stone,window.Tools.LoadRes(e.cdt_image,cc.SpriteFrame,function(i){t.hw_CharImg.spriteFrame=i,t.hw_CharImgMask.spriteFrame=i}),e=null,this.AnimColor()},OnRegister:function(){this.hw_GameBtn.on("click",function(){this.OpenFightWindow()}.bind(this),this),this.hw_CharBtn.on("click",function(){this.OpenCharWindow()}.bind(this),this),this.hw_CharImgBtn.on("click",function(){this.OpenCharWindow()}.bind(this),this),this.hw_BuildBtn.on("click",function(){this.OpenBuildWindow()}.bind(this),this),this.hw_MarketBtn.on("click",function(){this.OpenMarketWindow()}.bind(this),this)},UnRegister:function(){this.hw_GameBtn.targetOff(this),this.hw_CharBtn.targetOff(this),this.hw_CharImgBtn.targetOff(this),this.hw_BuildBtn.targetOff(this),this.hw_MarketBtn.targetOff(this)},OpenFightWindow:function(){window.Views.OpenView(window.Names.win_matching)},OpenCharWindow:function(){window.Views.CloseView(this.node),window.Views.OpenView(window.Names.win_character)},OpenBuildWindow:function(){window.Views.CloseView(this.node),window.Views.OpenView(window.Names.win_building)},OpenMarketWindow:function(){window.Views.CloseView(this.node),window.Views.OpenView(window.Names.win_market)}}),cc._RF.pop()},{ViewBase:"ViewBase"}],ItemBase:[function(t,i){"use strict";cc._RF.push(i,"5357bvVxPBCF5tgHU6Q+yRT","ItemBase"),cc.Class({extends:cc.Component,OnCreate:function(){},OnOpen:function(){},OnClose:function(){},OnDestroy:function(){},InitUI:function(){},OnRegister:function(){},UnRegister:function(){},AnimActive:function(){this.node.scale=0,cc.tween(this.node).then(cc.scaleTo(.2,1.05)).then(cc.scaleTo(.2,1)).start()},AnimColor:function(){this.node.opacity=0,cc.tween(this.node).then(cc.fadeIn(.5)).start()},unuse:function(){this.OnClose()},onDestroy:function(){this.OnDestroy()}}),cc._RF.pop()},{}],LoginWindow:[function(t,i){"use strict";cc._RF.push(i,"2b61f4fPQ1Ah7f8HcQUC3np","LoginWindow"),cc.Class({extends:t("ViewBase"),properties:{lw_LoginWat1:null,lw_LoginWat2:null,lw_LoginWat3:null},OnCreate:function(){this.InitUI(),this.SyncUI(),this.OnRegister()},OnOpen:function(){this.SyncUI()},OnClose:function(){},OnDestroy:function(){this.UnRegister()},InitUI:function(){this.lw_LoginWat1=this.node.getChildByName("LoginWay1"),this.lw_LoginWat2=this.node.getChildByName("LoginWay2"),this.lw_LoginWat3=this.node.getChildByName("LoginWay3")},SyncUI:function(){this.AnimActive()},OnRegister:function(){this.lw_LoginWat1.on("click",function(){this.OpenHomeWindow()}.bind(this),this),this.lw_LoginWat2.on("click",function(){this.OpenHomeWindow()}.bind(this),this),this.lw_LoginWat3.on("click",function(){this.OpenHomeWindow()}.bind(this),this)},UnRegister:function(){this.lw_CloseBtn.targetOff(this)},OpenHomeWindow:function(){this.BackHome()}}),cc._RF.pop()},{ViewBase:"ViewBase"}],MarketWindow:[function(t,i){"use strict";cc._RF.push(i,"9fb9f3bKWpApKpcrzoqOC1l","MarketWindow"),cc.Class({extends:t("ViewBase"),properties:{bw_CloseBtn:null},OnCreate:function(){this.InitUI(),this.OnRegister()},OnOpen:function(){},OnClose:function(){},OnDestroy:function(){this.UnRegister()},InitUI:function(){this.bw_CloseBtn=this.node.getChildByName("Full_BackButton")},OnRegister:function(){this.bw_CloseBtn.on("click",function(){this.CloseBuildWindow()}.bind(this),this)},UnRegister:function(){this.bw_CloseBtn.targetOff(this)},CloseBuildWindow:function(){this.BackHome()}}),cc._RF.pop()},{ViewBase:"ViewBase"}],MatchingWindow:[function(t,i){"use strict";cc._RF.push(i,"2a504LK0y9BM6vw5LKP+c07","MatchingWindow"),cc.Class({extends:t("ViewBase"),properties:{mw_CloseBtn:null,mw_UserHead:null,mw_AnimHead:null,mw_waiting:2,mw_fighting:1},OnCreate:function(){this.InitUI(),this.SyncUI(),this.OnRegister()},OnOpen:function(){this.SyncUI()},OnClose:function(){this.unscheduleAllCallbacks(this)},OnDestroy:function(){this.UnRegister()},InitUI:function(){this.mw_CloseBtn=this.node.getChildByName("MatchCancel"),this.mw_AnimHead=window.Tools.GetChildByName(this.node,"MatchAnimation"),this.mw_UserHead=window.Tools.GetChildByName(this.node,"MatchSelf/MatchMask/MatchHead").getComponent(cc.Sprite)},SyncUI:function(){this.AnimActive();var t=this;this.mw_AnimHead.active=!0;var i=window.Datas.user.charid,e=window.Datas.user_run_chardata[i];t.mw_waiting=3,t.mw_fighting=2,window.Tools.LoadRes(e.cdt_icon,cc.SpriteFrame,function(i){t.mw_UserHead.spriteFrame=i}),this.schedule(function(){this.WaitingAnimStop()}.bind(this),this.mw_waiting)},WaitingAnimStop:function(){this.mw_AnimHead.active=!1,this.unscheduleAllCallbacks(this),this.schedule(function(){this.SuccessMatchEnd()}.bind(this),this.mw_fighting)},SuccessMatchEnd:function(){window.Views.CloseView(this.node),window.Views.CloseNameView(window.Names.win_home),window.Views.OpenView(window.Names.win_fight)},OnRegister:function(){this.mw_CloseBtn.on("click",function(){window.Views.CloseView(this.node)}.bind(this),this)},UnRegister:function(){this.mw_CloseBtn.targetOff(this)}}),cc._RF.pop()},{ViewBase:"ViewBase"}],PromptView:[function(t,i){"use strict";cc._RF.push(i,"0f78clLd0ROrK+6qfM3w18c","PromptView"),cc.Class({extends:t("ViewBase"),properties:{prompt:null,highness:100,coordinate:null},WindowType:function(){return window.Types.Prompt},OnCreate:function(){this.InitUI(),this.ShowPrompt()},OnOpen:function(){this.ShowPrompt()},InitUI:function(){this.highness=50,this.coordinate=cc.v2(0,0),this.prompt=this.node.getChildByName("PromptLabel").getComponent(cc.Label)},ShowPrompt:function(){var t=this;this.RefreshPrompt(),this.coordinate.y+=this.highness,this.prompt.string=window.Tools.GetPromptInfo();var i=cc.moveTo(1,this.coordinate);cc.tween(this.node).sequence(i,cc.callFunc(function(){window.Tools.RecycleNode(t.node)},this)).start()},RefreshPrompt:function(){this.coordinate.x=0,this.coordinate.y=0,this.node.setPosition(0,0,0)}}),cc._RF.pop()},{ViewBase:"ViewBase"}],ResultBuildItem:[function(t,i){"use strict";cc._RF.push(i,"1869fcUSApFNoyMH6dKddeS","ResultBuildItem");var e=t("ItemBase");cc.Class({extends:e,properties:{rwi_Id:0,rwi_User:!0,rwi_Icon:null,rwi_Mark:null,rwi_Empty:null,rwi_Exist:null,rwi_Count:null},OnCreate:function(t){this.rwi_Id=t.id,this.rwi_User=t.user,this.InitUI(),this.SyncUI(),this.OnRegister()},OnOpen:function(t){this.rwi_Id=t.id,this.rwi_User=t.user,this.SyncUI(),this.OnRegister()},OnClose:function(){this.UnRegister()},OnDestroy:function(){},InitUI:function(){this.rwi_Empty=this.node.getChildByName("BuildEmpty"),this.rwi_Exist=this.node.getChildByName("BuildExist"),this.rwi_Icon=window.Tools.GetChildByName(this.node,"BuildExist/BuildIcon").getComponent(cc.Sprite),this.rwi_Mark=window.Tools.GetChildByName(this.node,"BuildExist/BuildMark").getComponent(cc.Sprite),this.rwi_Count=window.Tools.GetChildByName(this.node,"BuildExist/BuildCount").getComponent(cc.Label)},SyncUI:function(){var t=this,i=window.Datas.user_run_builddata[t.rwi_Id],e=window.Datas.user_save_builddata[t.rwi_Id].UBD_UnLock(window.Datas.user.cup,i.bcup);t.rwi_Count.string=1==t.rwi_User?window.Result.UserCount[t.rwi_Id]:window.Result.EnemCount[t.rwi_Id],t.rwi_Exist.active=e,t.rwi_Empty.active=!e,e&&(t.rwi_User?window.Tools.LoadRes(window.Names.image_result_mark_self,cc.SpriteFrame,function(i){t.rwi_Mark.spriteFrame=i}):window.Tools.LoadRes(window.Names.image_result_mark_enem,cc.SpriteFrame,function(i){t.rwi_Mark.spriteFrame=i}),window.Tools.LoadRes(i.bdt_image,cc.SpriteFrame,function(i){t.rwi_Icon.spriteFrame=i}),t.rwi_Count.string=1)},OnRegister:function(){},UnRegister:function(){}}),cc._RF.pop()},{ItemBase:"ItemBase"}],ResultWindow:[function(t,i){"use strict";cc._RF.push(i,"d9c6fqjuN9CzIecYFljQhD8","ResultWindow"),cc.Class({extends:t("ViewBase"),properties:{rw_CloseBtn:null,rw_Win:null,rw_Lose:null,rw_UserName:null,rw_UserIcon:null,rw_GetStone:null,rw_SelfBuildParent:null,rw_EnemyBuildParent:null,rw_itemlist:null},OnCreate:function(){this.InitUI(),this.SyncUI(),this.OnRegister()},OnOpen:function(){this.SyncUI()},OnClose:function(){},OnDestroy:function(){this.UnRegister()},InitUI:function(){this.rw_itemlist=[],this.rw_CloseBtn=this.node.getChildByName("ResultClose"),this.rw_Win=this.node.getChildByName("TitleWin"),this.rw_Lose=this.node.getChildByName("TitleLose"),this.rw_UserName=window.Tools.GetChildByName(this.node,"ResultSelf/RoleName").getComponent(cc.Label),this.rw_UserIcon=window.Tools.GetChildByName(this.node,"ResultSelf").getComponent(cc.Sprite),this.rw_GetStone=window.Tools.GetChildByName(this.node,"ResultSelf/BuildStoneValue").getComponent(cc.Label),this.rw_SelfBuildParent=window.Tools.GetChildByName(this.node,"ResultSelf/RoleBuilds"),this.rw_EnemyBuildParent=window.Tools.GetChildByName(this.node,"ResultEnemy/RoleBuilds")},SyncUI:function(){this.rw_Win.active=window.Result.Win,this.rw_Lose.active=!window.Result.Win,this.rw_UserName.string=window.Datas.user.name;var t=1==window.Result.Win?1e3:100;this.rw_GetStone.string=t,window.Datas.user.stone+=t;for(var i=0;i<window.Datas.user_run_builddata.length;i++)window.Tools.CreateItem(window.Names.item_result,{id:i,user:!0},this.rw_SelfBuildParent,function(t){this.rw_itemlist.push(t)}.bind(this));for(var e=0;e<window.Datas.user_run_builddata.length;e++)window.Tools.CreateItem(window.Names.item_result,{id:e,user:!1},this.rw_EnemyBuildParent,function(t){this.rw_itemlist.push(t)}.bind(this))},OnRegister:function(){this.rw_CloseBtn.on("click",function(){this.CloseBuildWindow()}.bind(this),this)},UnRegister:function(){this.rw_CloseBtn.targetOff(this)},CloseBuildWindow:function(){for(var t=0;t<this.rw_itemlist.length;t++)window.Tools.RecycleNode(this.rw_itemlist[t]);this.rw_itemlist=[],this.BackHome()}}),cc._RF.pop()},{ViewBase:"ViewBase"}],UBuildingData:[function(t,i){"use strict";cc._RF.push(i,"ca576iUypxE6KsANVMIGPXE","UBuildingData");var e=function(){function t(){this.id=0,this.ubd_unlock=!1,this.ubd_level=1}return t.prototype.UBD_UnLock=function(t,i){return this.ubd_unlock=t>=100*i,this.ubd_unlock},t}();i.exports=e,cc._RF.pop()},{}],UCharacterData:[function(t,i){"use strict";cc._RF.push(i,"2c55d1LdkxLOa8O5UHhRN7z","UCharacterData");var e=function(){function t(){this.id=0,this.ucd_use=!1,this.ucd_ower=!1,this.ucd_level=1,this.ucd_stuff=0}var i=t.prototype;return i.UCD_CanUp=function(t){return this.ucd_stuff>=this.UCD_GetNeedStuff()&&t>=this.UCD_GetNeedDiamond()},i.UCD_CanUse=function(){return!this.ucd_use&&this.ucd_ower},i.UCD_GetLevelAdd=function(){return 50*this.ucd_level},i.UCD_GetNeedStuff=function(){return 10+10*Math.pow(this.ucd_level-1,2)},i.UCD_GetNeedDiamond=function(){return 10*this.UCD_GetNeedStuff()},t}();i.exports=e,cc._RF.pop()},{}],ViewBase:[function(t,i){"use strict";cc._RF.push(i,"9f86d79McNAwJT+qJNk7Pj/","ViewBase"),cc.Class({extends:cc.Component,WindowType:function(){return window.Types.Full},OnCreate:function(){},OnOpen:function(){},OnClose:function(){},OnDestroy:function(){},InitUI:function(){},OnRegister:function(){},UnRegister:function(){},BackHome:function(){window.Views.CloseView(this.node),window.Views.OpenView(window.Names.win_home)},AnimActive:function(){this.node.scale=0,cc.tween(this.node).then(cc.scaleTo(.1,1.05)).then(cc.scaleTo(.1,1)).start()},AnimColor:function(){this.node.opacity=0,cc.tween(this.node).then(cc.fadeIn(.2)).start()},reuse:function(){this.OnOpen()},unuse:function(){this.OnClose()},onDestroy:function(){this.OnDestroy()}}),cc._RF.pop()},{}],ViewManager:[function(t,i){"use strict";cc._RF.push(i,"b6dbckpoIlLqLgDQ3cUdVpe","ViewManager"),cc.Class({extends:cc.Component,properties:{viewParents:null,viewOpenedList:null,viewClosedList:null},onLoad:function(){window.Views=this,this.viewParents=this.node.children,this.viewOpenedList={},this.viewClosedList={}},OnCreate:function(){window.Views.OpenView(window.Names.win_login)},GetViewsParent:function(t){return this.viewParents[t.getComponent(t.name).WindowType()]},OpenView:function(t){this.viewClosedList[t]&&this.viewClosedList[t].length>0?window.Tools.CreateView(t,function(i){this.LessViewList(t,this.viewClosedList,i),this.AddViewList(t,this.viewOpenedList,i),i.active=!0}.bind(this)):window.Tools.CreateView(t,function(i){this.AddViewList(t,this.viewOpenedList,i),i.active=!0}.bind(this))},CloseView:function(t){this.LessViewList(t.name,this.viewOpenedList,t),this.AddViewList(t.name,this.viewClosedList,t),window.Tools.RecycleNode(t),t.active=!1},CloseNameView:function(t){if(null!=this.viewOpenedList[t]){var i=this.viewOpenedList[t].pop();this.AddViewList(t,this.viewClosedList,i),window.Tools.RecycleNode(i),i.active=!1}},AddViewList:function(t,i,e){null==i[t]&&(i[t]=[]),i[t].push(e)},LessViewList:function(t,i,e){for(var n=-1,o=0;o<i[t].length;o++)if(i[t][o]==e){n=o;break}-1!=n?i[t].splice(n,1):window.Tools.LogError("LessViewList cant remove view:"+t)}}),cc._RF.pop()},{}],ViewTemplate:[function(t,i){"use strict";cc._RF.push(i,"857b0GcORNLtIQhp1TU+glQ","ViewTemplate"),cc.Class({extends:t("ViewBase"),properties:{closeView:null,contentPrompt:null,tbackground:null},OnCreate:function(){this.InitUI(),this.OnRegister()},OnOpen:function(){},OnClose:function(){},OnDestroy:function(){this.UnRegister()},InitUI:function(){this.closeView=this.node.getChildByName("CloseTemplateView"),this.contentPrompt=this.node.getChildByName("Content"),this.tbackground=this.node.getChildByName("BackGround").getComponent(cc.Sprite),this.music=this.node.getChildByName("PlayTemplateMusic"),this.volumes=this.node.getChildByName("VolumeSlider")},OnRegister:function(){this.closeView.on("click",function(){window.Views.CloseView(this.node)}.bind(this),this),this.music.on("click",function(){window.Sound.PlayMusic(window.Names.bgm_city)}.bind(this),this),this.volumes.on("slide",function(t){window.Sound.SetMusicVolume(t.progress)}.bind(this),this)},UnRegister:function(){}}),cc._RF.pop()},{ViewBase:"ViewBase"}]},{},["AdaptationImage","AdaptationNode","AudioManager","GlobalCtrl","GlobalData","GlobalName","GlobalTool","ItemBase","PromptView","ViewBase","ViewManager","ViewTemplate","BuildingData","CharacterData","FightBuildData","FightFloorData","FightPlayerData","UBuildingData","UCharacterData","BuildConItem","BuildWinItem","BuildingWindow","CharConItem","CharWinItem","CharacterWindow","ColorAssemble2D","CreateBuildItem","CreateBuildWindow","ExitFightWindow","FightBuildBuffItem","FightCharacterData","FightCharacterItem","FightDiceData","FightDiceItem","FightDiceNumItem","FightFlyMoneyItem","FightSingleBuildFloorItem","FightWindow","FightWindowTwo","HomeWindow","LoginWindow","MarketWindow","MatchingWindow","ResultBuildItem","ResultWindow"]);